function so(){_a=[];for(var t=0;t<hn;t++)_a.push([5*r(),sw*r(),sh*r(),5*r()+5,.06*r(),r()<.5?dt1:dt2])}function dt(t,n,e,h,i){for(t.x.beginPath(),j=0;j<n.length;j++)t.x.fillStyle="#"+Math.floor(16777215*r()).toString(16),t.x.fillRect(n[j][0]*i+e,n[j][1]*i+h,i,i)}function ht(t,n,e,h){new dt(c,t,e,h,n)}function m(){_=this,_.v=d.createElement("canvas"),_.x=this.v.getContext("2d"),b.appendChild(_.v),_.v.width=sw,_.v.height=sh}function r(){return Math.random()}d=document,b=d.body,sw=b.clientWidth,sh=b.clientHeight,hn=500,mm=[0,0],c=new m,heart=[[2,0],[4,0],[1,1],[3,1],[5,1],[0,2],[6,2],[1,3],[5,3],[2,4],[4,4],[3,5]],star=[[2,0],[1,1],[2,1],[3,1],[0,2],[1,2],[2,2],[3,2],[4,2],[1,3],[2,3],[3,3],[1,4],[3,4]],dt1=heart,dt2=[[1,0],[0,1],[2,1],[1,2]],so(),setInterval((function(){for(c.x.clearRect(0,0,sw,sh),i=0;i<hn;i++){p=_a[i],p[2]+=p[3]-mm[1]*p[4],p[1]+=-mm[0]*p[4],p[2]>sh&&(p[2]=0),p[2]<0&&(p[2]=sh),p[1]>sw&&(p[1]=0),p[1]<0&&(p[1]=sw);new ht(p[5],p[0],p[1],p[2])}}),100),b.addEventListener("mousemove",(function(t){mm=[t.pageX-sw/2,t.pageY-sh/2]})),b.addEventListener("click",(function(){dt1=dt1==star?heart:star,so()}));